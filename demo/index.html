<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demo</title>
</head>
<body>
  <div id="container"></div>
  <script type="importmap">
    {
      "imports": {
        "lit-html": "https://unpkg.com/lit-html@1.3.0/lit-html.js?module",
        "lit-directive-subject": "../lit-directive-subject.js"
      }
    }
  </script>
  <script type="module">
import {render, html} from 'lit-html'
import {SubjectPartial} from 'lit-directive-subject';

const partial = new SubjectPartial();

render(html`
  <h1>Demo</h1>
  <div>
    ${partial.part()}
  </div>
  `, window.container);


// Async updating
(function update() {
  partial.setValue(Math.random())
  partial.commit();
  setTimeout(update, 1000);
})();

  </script>
</body>
</html>